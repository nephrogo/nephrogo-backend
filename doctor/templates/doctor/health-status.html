{% extends 'doctor/base/base-page.html' %}
{% load crispy_forms_tags %}
{% load i18n %}

{% block title %}{% trans 'Sveikatos rodikliai' %}{% endblock %}


{% block content %}
    {% if statuses.exists %}
        <div class="card">
            <table class="table table-striped table-hover table-bordered">
                <thead>
                <tr>
                    <th>{% trans 'Data' %}</th>
                    <th>{% trans 'Kraujo spaudimas' %}</th>
                    <th>{% trans 'Pulsas' %}, k.min</th>
                    <th>{% trans 'Kūno svoris' %}, kg</th>
                    <th>{% trans 'Šlapimo kiekis' %}, ml</th>
                    <th>{% trans 'Gliukozės koncentracija kraujyje' %}, mmol/l</th>
                </tr>
                </thead>
                <tbody>
                {% for status in statuses %}
                    <tr>
                        <td>{{ status.date|date }}</td>
                        <td>
                            {% for blood in status.blood_pressures.all %}
                                {{ blood.systolic_blood_pressure }} / {{ blood.diastolic_blood_pressure }}
                                <small>({{ blood.measured_at|time }})</small>
                                <br>
                            {% endfor %}
                        </td>
                        <td>
                            {% for pulse in status.pulses.all %}
                                {{ pulse.pulse }}
                                <small>({{ pulse.measured_at|time }})</small>
                                <br>
                            {% endfor %}
                        </td>
                        <td>{{ status.weight_kg|default_if_none:"" }}</td>
                        <td>{{ status.urine_ml|default_if_none:"" }}</td>
                        <td>{{ status.glucose|default_if_none:"" }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <footer class="flexbox align-items-center mb-4">
            {% include 'doctor/widget/pagination.html' with paginator_page=page_obj %}
        </footer>
    {% else %}
        <div class="row">
            <div class="col-12 text-center">
                <div class="card">
                    <div class="card-body">
                        <div>
                            <i class="fas fa-paw fs-90"></i>
                        </div>
                        {% trans 'Rezultatų nerasta.' %}.
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

{% endblock %}